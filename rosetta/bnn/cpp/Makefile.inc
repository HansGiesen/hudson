OPT_LEVEL ?= 3

CONVOLVERS_0 ?= 1
CONVOLVERS_1 ?= 1
CONVOLVERS_2 ?= 1
CONVOLVERS_3 ?= 1
CONVOLVERS_4 ?= 1
CONVOLVERS_5 ?= 1
CONVOLVERS_6 ?= 1
CONVOLVERS_7 ?= 1
CONVOLVERS_8 ?= 1

WEIGHTS_IN_BRAM ?= False
PIPELINE ?= False
BIN_CONV_CNT ?= 1
BIN_DENSE_CNT ?= 1
WT_MEM_SIZE ?= 37888
BATCH_SIZE ?= 1

DATA_MOVER_SHARING ?= 0
DATA_MOVER_CLOCK ?= 2
KERNEL_CLOCK ?= 2
CLOCK_UNCERTAINTY ?= 30

JOBS ?= 1
THREADS ?= 1

PLATFORM ?= $(shell uname -p)

SDSOC_INCLUDE_DIR := $(subst SDx,Vivado,$(SDSOC_ROOT))/include

DEFINES := -DCONVOLVERS_0=$(CONVOLVERS_0) -DCONVOLVERS_1=$(CONVOLVERS_1) \
           -DCONVOLVERS_2=$(CONVOLVERS_2) -DCONVOLVERS_3=$(CONVOLVERS_3) \
	   -DCONVOLVERS_4=$(CONVOLVERS_4) -DCONVOLVERS_5=$(CONVOLVERS_5) \
           -DCONVOLVERS_6=$(CONVOLVERS_6) -DCONVOLVERS_7=$(CONVOLVERS_7) \
	   -DCONVOLVERS_8=$(CONVOLVERS_8) \
           -DWT_MEM_SIZE=$(WT_MEM_SIZE) -DBATCH_SIZE=$(BATCH_SIZE)

CXX = g++
CFLAGS = -O$(OPT_LEVEL) -g $(DEFINES) -I $(SDSOC_INCLUDE_DIR)
MINIZIP_LDFLAGS = -lminizip -laes -lz
LDFLAGS = $(MINIZIP_LDFLAGS)

AR=ar rcs
